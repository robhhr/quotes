jQuery(()=>{let e=document.getElementsByClassName("quote-submit"),t=document.getElementById("author"),o=document.getElementById("quote"),n=document.getElementById("quote-source"),u=document.getElementById("source-url");document.getElementById("submit-quote");window.addEventListener("popstate",function(){window.location=window.location}),jQuery(".quote-request").on("click",function(e){e.preventDefault(),jQuery.ajax({method:"GET",url:red_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",data:{comment_status:"closed"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(e){history.pushState("","",e[0].link);for(let t=0;t<1;t++)jQuery(".site-main-home").empty().append(`<div class="ajax-content"><p>${e[0].content.rendered}</p><p> - ${e[0].title.rendered}</p>, <span><a href="${e[0]._qod_quote_source_url}">${e[0]._qod_quote_source}</a></span></div>`)})}),jQuery(e).on("submit",function(e){e.preventDefault(),jQuery.ajax({method:"POST",url:red_vars.rest_url+"wp/v2/posts/",data:{comment_status:"closed",title:jQuery(t).val(),content:jQuery(o).val(),_qod_quote_source:jQuery(u).val(),_qod_quote_source_url:jQuery(n).val(),status:"pending"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(){alert("Quote submitted successfully")}).fail(function(){alert("Quote not submitted")})})});