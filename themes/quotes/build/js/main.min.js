function submitForm(){let e=document.getElementsByClassName("quote-submit")[0];return e.submit(),e.reset(),!1}jQuery(()=>{let e=document.getElementsByClassName("quote-submit"),t=document.getElementById("author"),n=document.getElementById("quote"),o=document.getElementById("quote-source"),u=document.getElementById("source-url");document.getElementById("submit-quote");window.addEventListener("popstate",function(){window.location=window.location}),jQuery(".quote-request").on("click",function(e){e.preventDefault(),jQuery.ajax({method:"GET",url:red_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",data:{comment_status:"closed"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(e){history.pushState("","",e[0].link);for(let t=0;t<1;t++)jQuery(".site-main-home").empty().append(`<article class="home-container">\n              <div class="ajax-content">\n                <p>${e[0].content.rendered}</p>\n                <p id="ajax-author"> - ${e[0].title.rendered}${e[0]._qod_quote_source&&`, \n                  <a href="${e[0]._qod_quote_source_url}"class="ajax-link">${e[0]._qod_quote_source}</a>\n                </p>`}\n              </div>\n            </article>`)})}),jQuery(e).on("submit",function(e){e.preventDefault(),jQuery.ajax({method:"POST",url:red_vars.rest_url+"wp/v2/posts/",data:{comment_status:"closed",title:jQuery(t).val(),content:jQuery(n).val(),_qod_quote_source:jQuery(u).val(),_qod_quote_source_url:jQuery(o).val(),status:"pending"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(){alert("Quote submitted successfully"),submitForm()}).fail(function(){alert("Please try again")})})});